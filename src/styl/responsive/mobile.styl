$gutter = 14px

$margin-micro = ($gutter / 3)
$margin-tiny = ($gutter / 2)
$margin-small = ($gutter)
$margin-basic = ($gutter * 2)
$margin-mid = ($gutter * 3.5)
$margin-large = ($gutter * 5)

$font-size-extra = 60px
$font-size-large = 36px
$font-size-mid = 24px
$font-size-basic = 16px
$font-size-small = 13px
$font-size-tiny = 9px

grid-maker(96%, $gutter, s)

space-maker($margin-micro, $margin-tiny, $margin-small, $margin-basic, $margin-mid, $margin-large)

font-sizes($font-size-basic, $font-size-extra, $font-size-large, $font-size-mid, $font-size-small, $font-size-tiny)

*:focus
  outline: none
  box-shadow: 0 0 3px 2px $color-grey

.not-mobile
  display: none !important

.background-white
  background-color: $color-white

.background-almond
  background-color: $color-almond

.background-woodgrain
  position: relative

.woodgrain
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  pointer-events: none

.border-box
  border-top: $margin-tiny solid $color-yellow
  border-bottom: $margin-tiny solid $color-yellow-light
  position: relative
  &:after, &:before
    height: 100%
    width: $margin-tiny
    position: absolute
    top: 0
    right: 0
    background: $color-peach
    content: ''
  &:before
    left: 0
    right: auto
  &.border-top-muck
    border-top-color: $color-muck
  &.border-sides-brown
    &:after, &:before
      background: $color-brown
  &.border-sides-orange
    &:after, &:before
      background: $color-orange

#loader
  opacity: 0
  pointer-events: none
  display: flex
  justify-content: center
  align-items: center
  width: 100vw
  height: 100vh
  height: -moz-available
  height: -webkit-fill-available
  top: 0
  left: 0
  position: fixed
  img
    width: 50px
    animation: rotate 3s linear infinite

@keyframes rotate
  from
    transform: rotate(0deg)
  to
    transform: rotate(360deg)

#main-content,
#posts,
#loader,
#footer
  //transition: opacity 200ms ease-in-out
  will-change: opacity

body
  &.loading, &.filtering, &.loading-more
    #loader
      opacity: 1
  &.loading
    #main-content, #footer
      opacity: 0
      pointer-events: none
  &.filtering
    #posts
      opacity: 0
      pointer-events: none

.filter-trigger, input
  appearance: none
  background-color: transparent
  border: 1px solid $color-black
  border-radius: 1em
  padding: 1em
  cursor: pointer
  z-index: 200
  position: relative

.filter-options
  background: $color-white
  border: 1px solid $color-black
  position: absolute
  width: 100%
  height: auto
  max-height: 300px
  overflow: hidden
  z-index: 100
  border-radius: 1em
  padding: 1em
  opacity: 0
  transition: transform 0.3s ease-in-out, opacity 0.2s ease-in-out
  will-change: transform, opacity
  transform: translateY(-30%)
  margin-top: 0.5em
  pointer-events: none

.filter
  position: relative
  &.show
    .filter-options
      opacity: 1
      transform: translateY(0%)
      overflow: scroll
      pointer-events: auto

.filter-option
  cursor: pointer
  &:hover
    text-decoration: underline
  &.active
    text-decoration: none
    font-weight: bold
    cursor: default

#playlist
  position: fixed
  width: 100vw
  height: 100vh
  height: -moz-available
  height: -webkit-fill-available
  background: $color-black
  color: $color-white
  bottom: -20%
  left: 0
  z-index: 400
  transition: transform 0.35s ease-in-out, opacity 0.25s ease-in-out
  opacity: 0
  pointer-events: none
  will-change: transform, opacity
  overflow: scroll

.playlist-item:not(:last-of-type)
  border-bottom: 1px solid $color-white

body
  &.playlist-open
    position: fixed
    width: 100%
    height: 100%
    left: 0px
    overflow: hidden
    #playlist
      transform: translateY(-20%)
      opacity: 1
      pointer-events: auto

#player
  position: fixed
  width: 100vw
  background: $color-black
  color: $color-white
  bottom: 0
  left: 0
  z-index: 500
  &.player-error
    #player-track-title
      font-family: $font-mono

.player-thumb-holder
  width: 50px
  height: 50px
  img
    width: 50px
    height: 50px

#player-thumb
  visibility: hidden
  &.show
    visibility: visible

#player-name-holder
  padding-bottom: .3em
  margin-bottom: .3em
  border-bottom: 1px solid $color-white

.player-control
  min-width: 3em
  height: 3em
  position: relative
  padding: 1em
  appearance: none
  background-color: transparent
  color: $color-white
  border: none

.player-control-icon
  pointer-events: none
  position: absolute
  width: 100%
  height: 100%
  top: 0
  left: 0
  display: flex
  justify-content: center
  align-items: center
  text-align: center
  font-size: $font-size-basic
  &.hide
    visibility: hidden

.player-skip
  .player-control-icon
    img
      max-width: 50%

#playlist-toggle
  border: 1px solid $color-white
  border-radius: 3em
  img
    max-height: 100%
    width: auto
    max-width: unset
    margin-left: .5em

.album-featured-slide
  width: 30vw

.stream-button
  img, svg
    height: 42px
    width: auto

.social-icon
  img, svg
    width: 36px
    height: auto

.recent-album-thumb
  width: 135px

.search-thumb-holder
  width: 130px
  height: 130px
  background-color: $color-grey-light
  background-position: center
  background-size: cover

.type-post
  .search-thumb-holder
    border-radius: 100%

.load-more-button
  font-family: $font-cond
  &.hide
    visibility: hidden
    pointer-events: none

input
  cursor: unset
  &:focus
    box-shadow: none

button
  appearance: none
  background: none
  border: none
  padding: 0
  font-family: $font-sans

.simple-input
  border: none
  background-color: transparent
  border-bottom: 1px solid $color-black
  padding: 0
  padding-top: 0.3em
  padding-bottom: 0.3em
  width: 100%
  border-radius: 0 !important

#social-holder
  padding-bottom: 1.55em

.icon-clickthru
  width: 1.5em

.post-item-type
  line-height: 2.3em

hr
  border: none
  border-top: 1px solid $color-black
  margin: 0
  margin-top: 3em
  margin-bottom: 3em

#post-content
  width: 100%
  h1,h2,h3,h4,h5,h6
    font-family: $font-cond
  p
    font-family: $font-mono
  figcaption
    font-size: $font-size-small

.wp-block-pullquote
  padding: 0
  margin-top: 5em
  margin-bottom: 5em
  text-align: left
  p
    font-size: $font-size-large
    color: $color-grey
  cite
    font-size: $font-size-small
    text-transform: uppercase

.wp-block-image
  text-align: center
  margin: 0
  margin-top: 5em
  margin-bottom: 5em

.wp-block-embed
  margin: 0
  margin-top: 5em
  margin-bottom: 5em

.wp-block-embed-instagram,
.wp-block-embed-twitter
  iframe,
  twitter-widget
    margin-left: auto !important
    margin-right: auto !important

.wp-block-embed-soundcloud
  iframe
    max-width: none !important
    width: 100% !important

.wp-block-embed-youtube,
.wp-block-embed-vimeo
  .wp-block-embed__wrapper
    position: relative
    padding-bottom: 56.25%
    height: 0
    overflow: hidden
    max-width: 100%
    iframe, object, embed
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%

#overlay-gallery
  position: fixed
  top: 0
  left: 0
  width: 100vw
  height: 100vh
  height: -moz-available
  height: -webkit-fill-available
  background-color: $color-white
  z-index: 800
  opacity: 0
  pointer-events: none
  will-change: opacity
  transition: opacity .3s ease-in-out

#close-gallery-holder
  position: absolute
  top: 0
  right: 0
  z-index: 900

.toggle-gallery
  cursor: pointer

body
  &.gallery-open
    #overlay-gallery
      opacity: 1
      pointer-events: auto
